<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ” 1989-10-06 ì¼ê°„ ê²€ì¦</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; line-height: 1.6; }
        .result-box { background: #f0f8ff; padding: 20px; margin: 15px 0; border-radius: 8px; border: 2px solid #007bff; }
        .error { color: red; font-weight: bold; }
        .success { color: green; font-weight: bold; }
        .highlight { background: yellow; padding: 2px; }
        table { border-collapse: collapse; width: 100%; margin: 15px 0; }
        th, td { border: 1px solid #ddd; padding: 10px; text-align: center; }
        th { background-color: #f2f2f2; }
    </style>
</head>
<body>
    <h1>ğŸ” 1989ë…„ 10ì›” 6ì¼ ì¼ê°„ ê²€ì¦ í…ŒìŠ¤íŠ¸</h1>
    <p><strong>ëª©í‘œ</strong>: 1989-10-06ì˜ ì¼ê°„ì´ ì •ë§ 'ë¬´(æˆŠ)'ì¸ì§€ í™•ì¸</p>

    <div id="result-output"></div>

    <script>
        // ì›ë³¸ ì‹œìŠ¤í…œê³¼ ë™ì¼í•œ ë°°ì—´
        const ì²œê°„ = ['ê°‘', 'ì„', 'ë³‘', 'ì •', 'ë¬´', 'ê¸°', 'ê²½', 'ì‹ ', 'ì„', 'ê³„'];
        const ì§€ì§€ = ['ì', 'ì¶•', 'ì¸', 'ë¬˜', 'ì§„', 'ì‚¬', 'ì˜¤', 'ë¯¸', 'ì‹ ', 'ìœ ', 'ìˆ ', 'í•´'];

        // ì›ë³¸ ì‹œìŠ¤í…œê³¼ ë™ì¼í•œ ì¼ì£¼ ê³„ì‚°
        function getDayGapja(year, month, day) {
            const baseDate = new Date(1900, 0, 31); // 1900ë…„ 1ì›” 31ì¼ = ê°‘ìì¼
            const targetDate = new Date(year, month - 1, day);
            const diffDays = Math.floor((targetDate - baseDate) / (1000 * 60 * 60 * 24));
            return (diffDays % 60 + 60) % 60;
        }

        // ê²€ì¦ í•¨ìˆ˜
        function verify1989DayGan() {
            const year = 1989, month = 10, day = 6;

            console.log('\nğŸ” === 1989-10-06 ì¼ê°„ ê²€ì¦ ì‹œì‘ ===');
            console.log(`ì…ë ¥: ${year}ë…„ ${month}ì›” ${day}ì¼`);

            // 1ë‹¨ê³„: ê¸°ì¤€ì¼ë¡œë¶€í„° ê²½ê³¼ì¼ ê³„ì‚°
            const baseDate = new Date(1900, 0, 31);
            const targetDate = new Date(year, month - 1, day);
            const diffDays = Math.floor((targetDate - baseDate) / (1000 * 60 * 60 * 24));

            console.log(`ê¸°ì¤€ì¼: 1900ë…„ 1ì›” 31ì¼ (ê°‘ìì¼)`);
            console.log(`ëŒ€ìƒì¼: ${year}ë…„ ${month}ì›” ${day}ì¼`);
            console.log(`ê²½ê³¼ ì¼ìˆ˜: ${diffDays}ì¼`);

            // 2ë‹¨ê³„: 60ê°‘ì ìˆœí™˜ ê³„ì‚°
            const dayGapja = (diffDays % 60 + 60) % 60;
            console.log(`60ê°‘ì ì¸ë±ìŠ¤: ${dayGapja}`);

            // 3ë‹¨ê³„: ì²œê°„/ì§€ì§€ ë¶„ë¦¬
            const ganIndex = dayGapja % 10;
            const jiIndex = dayGapja % 12;
            const dayGan = ì²œê°„[ganIndex];
            const dayJi = ì§€ì§€[jiIndex];

            console.log(`ì²œê°„ ì¸ë±ìŠ¤: ${ganIndex} â†’ ${dayGan}`);
            console.log(`ì§€ì§€ ì¸ë±ìŠ¤: ${jiIndex} â†’ ${dayJi}`);
            console.log(`ìµœì¢… ì¼ì£¼: ${dayGan}${dayJi}`);

            // 4ë‹¨ê³„: ìˆ˜ë™ ê²€ì¦ (ì•Œë ¤ì§„ ê¸°ì¤€ì¼ê³¼ ë¹„êµ)
            // 1989ë…„ 10ì›” 6ì¼ = ë¬´ì˜¤ì¼ì´ ë§ëŠ”ì§€ ë‹¤ë¥¸ ë°©ë²•ìœ¼ë¡œë„ ê²€ì¦
            const knownDate = new Date(2000, 0, 1); // 2000ë…„ 1ì›” 1ì¼ = ê°‘ì§„ì¼
            const diffFrom2000 = Math.floor((targetDate - knownDate) / (1000 * 60 * 60 * 24));
            const gapjaFrom2000 = (40 + diffFrom2000) % 60; // ê°‘ì§„ì¼ = 40ë²ˆì§¸
            const alternativeGapja = (gapjaFrom2000 + 60) % 60;

            console.log('\nğŸ“Š ëŒ€ì²´ ê²€ì¦:');
            console.log(`2000-01-01(ê°‘ì§„ì¼)ë¡œë¶€í„° ${diffFrom2000}ì¼`);
            console.log(`ëŒ€ì²´ ê³„ì‚° ê°‘ì: ${alternativeGapja}`);
            console.log(`ëŒ€ì²´ ê³„ì‚° ê²°ê³¼: ${ì²œê°„[alternativeGapja % 10]}${ì§€ì§€[alternativeGapja % 12]}`);

            console.log('ğŸ” === ì¼ê°„ ê²€ì¦ ì™„ë£Œ ===\n');

            return {
                date: `${year}-${month}-${day}`,
                diffDays: diffDays,
                dayGapja: dayGapja,
                dayGan: dayGan,
                dayJi: dayJi,
                dayPillar: `${dayGan}${dayJi}`,
                alternativeCheck: `${ì²œê°„[alternativeGapja % 10]}${ì§€ì§€[alternativeGapja % 12]}`,
                isConsistent: dayGapja === alternativeGapja
            };
        }

        // ì—¬ëŸ¬ ë‚ ì§œë¡œ ê²€ì¦
        function multiDateTest() {
            const testDates = [
                {year: 1989, month: 10, day: 6, expected: 'ë¬´ì˜¤'},
                {year: 1989, month: 10, day: 5, expected: 'ì •ì‚¬'},
                {year: 1989, month: 10, day: 7, expected: 'ê¸°ë¯¸'},
                {year: 2000, month: 1, day: 1, expected: 'ê°‘ì§„'},   // ì•Œë ¤ì§„ ê¸°ì¤€ì¼
            ];

            console.log('\nğŸ§ª === ì—¬ëŸ¬ ë‚ ì§œ ê²€ì¦ í…ŒìŠ¤íŠ¸ ===');

            const results = [];
            testDates.forEach(test => {
                const result = getDayGapja(test.year, test.month, test.day);
                const gan = ì²œê°„[result % 10];
                const ji = ì§€ì§€[result % 12];
                const calculated = `${gan}${ji}`;
                const isCorrect = calculated === test.expected;

                console.log(`${test.year}-${test.month.toString().padStart(2,'0')}-${test.day.toString().padStart(2,'0')}: ${calculated} (ì˜ˆìƒ: ${test.expected}) ${isCorrect ? 'âœ…' : 'âŒ'}`);

                results.push({
                    date: `${test.year}-${test.month}-${test.day}`,
                    calculated: calculated,
                    expected: test.expected,
                    correct: isCorrect
                });
            });

            return results;
        }

        // HTML ì¶œë ¥ í•¨ìˆ˜
        function displayResults() {
            const output = document.getElementById('result-output');

            // ì½˜ì†” ì¶œë ¥ë„ ì‹¤í–‰
            console.clear();
            const mainResult = verify1989DayGan();
            const multiResults = multiDateTest();

            let html = '<div class="result-box">';
            html += '<h2>ğŸ¯ 1989-10-06 ì¼ê°„ ê²€ì¦ ê²°ê³¼</h2>';
            html += '<table>';
            html += '<tr><th>í•­ëª©</th><th>ê°’</th><th>ë¹„ê³ </th></tr>';
            html += `<tr><td>ë‚ ì§œ</td><td>${mainResult.date}</td><td>í…ŒìŠ¤íŠ¸ ëŒ€ìƒ</td></tr>`;
            html += `<tr><td>ê¸°ì¤€ì¼ë¡œë¶€í„° ê²½ê³¼</td><td>${mainResult.diffDays}ì¼</td><td>1900-01-31 ê¸°ì¤€</td></tr>`;
            html += `<tr><td>60ê°‘ì ì¸ë±ìŠ¤</td><td>${mainResult.dayGapja}</td><td>ìˆœí™˜ ê³„ì‚° ê²°ê³¼</td></tr>`;
            html += `<tr><td>ê³„ì‚°ëœ ì¼ê°„</td><td><span class="highlight">${mainResult.dayGan}</span></td><td>ì‹œìŠ¤í…œ ê³„ì‚°ê°’</td></tr>`;
            html += `<tr><td>ê³„ì‚°ëœ ì¼ì£¼</td><td><span class="highlight">${mainResult.dayPillar}</span></td><td>ì „ì²´ ê°„ì§€</td></tr>`;
            html += `<tr><td>ëŒ€ì²´ ê²€ì¦</td><td>${mainResult.alternativeCheck}</td><td>2000-01-01 ê¸°ì¤€</td></tr>`;
            html += `<tr><td>ì¼ê´€ì„±</td><td>${mainResult.isConsistent ? '<span class="success">âœ… ì¼ì¹˜</span>' : '<span class="error">âŒ ë¶ˆì¼ì¹˜</span>'}</td><td>ë‘ ë°©ë²• ë¹„êµ</td></tr>`;
            html += '</table>';
            html += '</div>';

            html += '<div class="result-box">';
            html += '<h2>ğŸ§ª ë‹¤ì¤‘ ë‚ ì§œ ê²€ì¦ ê²°ê³¼</h2>';
            html += '<table>';
            html += '<tr><th>ë‚ ì§œ</th><th>ê³„ì‚° ê²°ê³¼</th><th>ì˜ˆìƒ ê²°ê³¼</th><th>ì •í™•ì„±</th></tr>';
            multiResults.forEach(result => {
                html += `<tr>`;
                html += `<td>${result.date}</td>`;
                html += `<td>${result.calculated}</td>`;
                html += `<td>${result.expected}</td>`;
                html += `<td>${result.correct ? '<span class="success">âœ… ì •í™•</span>' : '<span class="error">âŒ ì˜¤ë¥˜</span>'}</td>`;
                html += `</tr>`;
            });
            html += '</table>';
            html += '</div>';

            // ê²°ë¡ 
            html += '<div class="result-box">';
            html += '<h2>ğŸ“‹ ê²°ë¡ </h2>';
            if (mainResult.dayGan === 'ë¬´') {
                html += '<p><span class="success">âœ… 1989-10-06ì˜ ì¼ê°„ì´ \'ë¬´(æˆŠ)\'ë¡œ ì •í™•íˆ ê³„ì‚°ë¨</span></p>';
                html += '<p>â†’ ì¼ì£¼ ê³„ì‚°ì—ëŠ” ë¬¸ì œê°€ ì—†ìœ¼ë¯€ë¡œ, <strong>ì‹œì£¼ ê³„ì‚° ë¡œì§(getHourGapja)</strong>ì— ë¬¸ì œê°€ ìˆì„ ê°€ëŠ¥ì„±ì´ ë†’ìŒ</p>';
            } else {
                html += `<p><span class="error">âŒ ì¼ê°„ ê³„ì‚° ì˜¤ë¥˜ ë°œê²¬: ê³„ì‚°ê°’ '${mainResult.dayGan}' â‰  ì˜ˆìƒê°’ 'ë¬´'</span></p>';
                html += '<p>â†’ ì¼ì£¼ ê³„ì‚° ìì²´ì— ë¬¸ì œê°€ ìˆìœ¼ë¯€ë¡œ ì´ë¥¼ ë¨¼ì € ìˆ˜ì •í•´ì•¼ í•¨</p>';
            }
            html += '</div>';

            output.innerHTML = html;
            console.log('ğŸ“‹ ì½˜ì†” ë¡œê·¸ì™€ í•¨ê»˜ ìœ„ ê²°ê³¼ë¥¼ ë¶„ì„í•´ì£¼ì„¸ìš”!');
        }

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ì‹¤í–‰
        window.onload = displayResults;
    </script>
</body>
</html>
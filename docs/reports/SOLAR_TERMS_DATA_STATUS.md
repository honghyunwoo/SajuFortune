# 24절기 데이터 현황

**최종 업데이트**: 2025-10-03

---

## 📊 데이터 커버리지

### ✅ 정밀 데이터 (한국천문연구원 기준)
- **1988-1991년** (4년): 초기 데이터
- **2019-2026년** (8년): distbe/holidays API 데이터
- **모든 연도 24절기 완전 검증 완료** ✅

**총 정밀 데이터**: 12년분 (중복 제외)

### ⚠️ 알고리즘 계산 (근사값)
- **1950-1987년** (38년): 역학 알고리즘
- **1992-2018년** (27년): 역학 알고리즘
- **2027-2030년** (4년): 예측 알고리즘

**총 알고리즘 계산**: 69년분

---

## 🎯 정확도 등급

| 연도 범위 | 정확도 | 비고 |
|----------|--------|------|
| **1988-1991** | ⭐⭐⭐⭐⭐ | 한국천문연구원 정밀 데이터 |
| **2019-2026** | ⭐⭐⭐⭐⭐ | distbe/holidays (한국천문연구원 출처) |
| **1992-2018** | ⭐⭐⭐ | 알고리즘 계산 (± 몇 시간 오차 가능) |
| **1950-1987** | ⭐⭐⭐ | 알고리즘 계산 (± 몇 시간 오차 가능) |
| **2027-2030** | ⭐⭐ | 예측 알고리즘 (부정확할 수 있음) |

---

## 💡 사용 시 주의사항

### 정밀 데이터 연도 (권장)
```
1988, 1989, 1990, 1991,
2019, 2020, 2021, 2022, 2023, 2024, 2025, 2026
```

이 연도들은 한국천문연구원 기준 정밀 데이터로, **분/초 단위 정확도** 보장.

### 알고리즘 계산 연도 (주의)
```
1950-1987 (38년), 1992-2018 (27년), 2027-2030 (4년)
```

이 연도들은 천문학적 알고리즘으로 계산되며:
- 일반적으로 **당일 또는 전후 1일 이내** 정확
- 시간 정확도는 **± 2-6시간** 오차 가능
- 절기 경계 시간대 출생자는 월주(月柱)가 다를 수 있음

---

## 🔧 코드 동작 방식

### 1. 정밀 데이터 우선 사용
```typescript
// shared/solar-terms.ts
export const 절기데이터: SolarTermsData = {
    1988: { /* 정밀 데이터 */ },
    1989: { /* 정밀 데이터 */ },
    // ...
    2019: { /* 정밀 데이터 */ },
    // ...
    2026: { /* 정밀 데이터 */ }
};
```

### 2. 알고리즘 계산 Fallback
```typescript
// shared/lunar-calculator.ts
if (!yearData) {
    // 데이터 없는 경우 알고리즘 계산
    return this.calculateByAlgorithm(solarDate);
}
```

### 3. 정확도 플래그
```typescript
interface LunarDate {
    approximate?: boolean;  // true면 알고리즘 계산
}
```

---

## 📈 향후 개선 계획

### Phase 1: 우선 확장 (P1)
- [ ] 1992-2018년 정밀 데이터 추가
  - 출처: 한국천문연구원 Open API
  - 예상 작업: 2-3시간

### Phase 2: 전체 커버리지 (P2)
- [ ] 1950-1987년 정밀 데이터 추가
- [ ] 2027-2030년 정밀 데이터 추가
  - 출처: 한국천문연구원 예측 데이터

### Phase 3: 확장 범위 (P3)
- [ ] 1900-1949년 데이터 추가
- [ ] 2031-2050년 예측 데이터 추가

---

## 🚨 사용자 고지사항

### UI에 표시할 정확도 경고
```
🌙 절기 계산 정확도 안내

✅ 1988-1991년, 2019-2026년생: 정밀 계산 (한국천문연구원 기준)
⚠️ 그 외 연도: 알고리즘 계산 (일반적으로 정확하나 시간 오차 있을 수 있음)

※ 절기 경계 시간대 (입춘, 경칩 등 당일 ±6시간) 출생자는
   정밀 감정이 필요할 수 있습니다.
```

---

## 📞 데이터 출처

- **정밀 데이터**:
  - 한국천문연구원 (KASI)
  - distbe/holidays GitHub Repository

- **알고리즘**:
  - 천문학적 계산 (lunar-calculator.ts)
  - 기준: 1900년 epoch 기반 근사 계산

---

**참고**: 사주학에서 가장 중요한 것은 절기(節氣)의 **날짜**이며,
시간은 절기 경계 시간대(당일 ±6시간)에만 중요합니다.
대부분의 경우 알고리즘 계산으로도 충분히 정확합니다.

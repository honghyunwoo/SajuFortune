<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì‹œì£¼ ê³„ì‚° ë””ë²„ê¹… í…ŒìŠ¤íŠ¸</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .debug-section { background: #f5f5f5; padding: 15px; margin: 10px 0; border-radius: 5px; }
        .step { margin: 5px 0; padding: 5px; background: white; border-left: 3px solid #007bff; }
        .error { color: red; font-weight: bold; }
        .success { color: green; font-weight: bold; }
        .highlight { background: yellow; padding: 2px; }
    </style>
</head>
<body>
    <h1>ğŸ” ì‹œì£¼ ê³„ì‚° ë””ë²„ê¹… í…ŒìŠ¤íŠ¸</h1>
    <p><strong>í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤:</strong> ì¼ê°„ ë¬´(æˆŠ), ì‹œê°„ 12:56 (ì˜¤ì‹œ)</p>
    <p><strong>ì˜ˆìƒ ê²°ê³¼:</strong> ë¬´ì˜¤(æˆŠåˆ)</p>

    <div id="debug-output"></div>

    <script>
        // ì‚¬ì£¼ ê´€ë ¨ ìƒìˆ˜ë“¤
        const ì²œê°„ = ['ê°‘', 'ì„', 'ë³‘', 'ì •', 'ë¬´', 'ê¸°', 'ê²½', 'ì‹ ', 'ì„', 'ê³„'];
        const ì§€ì§€ = ['ì', 'ì¶•', 'ì¸', 'ë¬˜', 'ì§„', 'ì‚¬', 'ì˜¤', 'ë¯¸', 'ì‹ ', 'ìœ ', 'ìˆ ', 'í•´'];

        // ì›ë³¸ getHourGapja í•¨ìˆ˜ë¥¼ ë””ë²„ê¹… ë²„ì „ìœ¼ë¡œ ìˆ˜ì •
        function debugGetHourGapja(dayGan, hour) {
            const debugOutput = document.getElementById('debug-output');
            let html = '<div class="debug-section"><h2>ğŸ” ë‹¨ê³„ë³„ ë””ë²„ê¹… ì¶”ì </h2>';

            // 1ë‹¨ê³„: ì…ë ¥ê°’ í™•ì¸
            html += '<div class="step"><strong>1ë‹¨ê³„: ì…ë ¥ê°’ í™•ì¸</strong><br>';
            html += `ì¼ê°„(dayGan): "${dayGan}"<br>`;
            html += `ì‹œê°„(hour): ${hour}<br></div>`;

            // 2ë‹¨ê³„: dayGanIndex ê³„ì‚°
            const dayGanIndex = ì²œê°„.indexOf(dayGan);
            html += '<div class="step"><strong>2ë‹¨ê³„: dayGanIndex ê³„ì‚°</strong><br>';
            html += `ì²œê°„ ë°°ì—´: [${ì²œê°„.join(', ')}]<br>`;
            html += `dayGanIndex = ì²œê°„.indexOf("${dayGan}") = <span class="highlight">${dayGanIndex}</span><br></div>`;

            // 3ë‹¨ê³„: hourJiIndex ê³„ì‚° (ì‹œì§€ ê³„ì‚°)
            let hourJiIndex;
            html += '<div class="step"><strong>3ë‹¨ê³„: hourJiIndex ê³„ì‚° (ì‹œì§€ ê³„ì‚°)</strong><br>';
            html += `ì…ë ¥ ì‹œê°„: ${hour}ì‹œ<br>`;

            if (hour == 23 || (hour >= 0 && hour <= 0)) {
                hourJiIndex = 0;
                html += `23ì‹œ ë˜ëŠ” 0ì‹œ â†’ ìì‹œ â†’ hourJiIndex = 0<br>`;
            }
            else if (hour >= 1 && hour <= 2) {
                hourJiIndex = 1;
                html += `1-2ì‹œ â†’ ì¶•ì‹œ â†’ hourJiIndex = 1<br>`;
            }
            else if (hour >= 3 && hour <= 4) {
                hourJiIndex = 2;
                html += `3-4ì‹œ â†’ ì¸ì‹œ â†’ hourJiIndex = 2<br>`;
            }
            else if (hour >= 5 && hour <= 6) {
                hourJiIndex = 3;
                html += `5-6ì‹œ â†’ ë¬˜ì‹œ â†’ hourJiIndex = 3<br>`;
            }
            else if (hour >= 7 && hour <= 8) {
                hourJiIndex = 4;
                html += `7-8ì‹œ â†’ ì§„ì‹œ â†’ hourJiIndex = 4<br>`;
            }
            else if (hour >= 9 && hour <= 10) {
                hourJiIndex = 5;
                html += `9-10ì‹œ â†’ ì‚¬ì‹œ â†’ hourJiIndex = 5<br>`;
            }
            else if (hour >= 11 && hour <= 12) {
                hourJiIndex = 6;
                html += `<span class="highlight">11-12ì‹œ â†’ ì˜¤ì‹œ â†’ hourJiIndex = 6</span><br>`;
            }
            else if (hour >= 13 && hour <= 14) {
                hourJiIndex = 7;
                html += `13-14ì‹œ â†’ ë¯¸ì‹œ â†’ hourJiIndex = 7<br>`;
            }
            else if (hour >= 15 && hour <= 16) {
                hourJiIndex = 8;
                html += `15-16ì‹œ â†’ ì‹ ì‹œ â†’ hourJiIndex = 8<br>`;
            }
            else if (hour >= 17 && hour <= 18) {
                hourJiIndex = 9;
                html += `17-18ì‹œ â†’ ìœ ì‹œ â†’ hourJiIndex = 9<br>`;
            }
            else if (hour >= 19 && hour <= 20) {
                hourJiIndex = 10;
                html += `19-20ì‹œ â†’ ìˆ ì‹œ â†’ hourJiIndex = 10<br>`;
            }
            else if (hour >= 21 && hour <= 22) {
                hourJiIndex = 11;
                html += `21-22ì‹œ â†’ í•´ì‹œ â†’ hourJiIndex = 11<br>`;
            }
            else {
                hourJiIndex = 6;
                html += `ê¸°íƒ€ â†’ ê¸°ë³¸ê°’ ì˜¤ì‹œ â†’ hourJiIndex = 6<br>`;
            }

            html += `ì§€ì§€ ë°°ì—´: [${ì§€ì§€.join(', ')}]<br>`;
            html += `ì§€ì§€[${hourJiIndex}] = "<span class="highlight">${ì§€ì§€[hourJiIndex]}</span>"<br></div>`;

            // 4ë‹¨ê³„: ì¼ê°„ë³„ìì‹œì²œê°„ ë§¤í•‘
            const ì¼ê°„ë³„ìì‹œì²œê°„ = {
                0: 0, 4: 0,  // ê°‘(0), ê¸°(4) â†’ ê°‘ìì‹œ(0)
                1: 2, 5: 2,  // ì„(1), ê²½(5) â†’ ë³‘ìì‹œ(2)
                2: 4, 6: 4,  // ë³‘(2), ì‹ (6) â†’ ë¬´ìì‹œ(4)
                3: 6, 7: 6,  // ì •(3), ì„(7) â†’ ê²½ìì‹œ(6)
                8: 8, 9: 8   // ë¬´(8), ê³„(9) â†’ ì„ìì‹œ(8)
            };

            html += '<div class="step"><strong>4ë‹¨ê³„: ì¼ê°„ë³„ìì‹œì²œê°„ ë§¤í•‘</strong><br>';
            html += `ì¼ê°„ë³„ìì‹œì²œê°„ = {<br>`;
            html += `&nbsp;&nbsp;0: 0, 4: 0,  // ê°‘(0), ê¸°(4) â†’ ê°‘ìì‹œ(0)<br>`;
            html += `&nbsp;&nbsp;1: 2, 5: 2,  // ì„(1), ê²½(5) â†’ ë³‘ìì‹œ(2)<br>`;
            html += `&nbsp;&nbsp;2: 4, 6: 4,  // ë³‘(2), ì‹ (6) â†’ ë¬´ìì‹œ(4)<br>`;
            html += `&nbsp;&nbsp;3: 6, 7: 6,  // ì •(3), ì„(7) â†’ ê²½ìì‹œ(6)<br>`;
            html += `&nbsp;&nbsp;<span class="highlight">8: 8, 9: 8</span>   // ë¬´(8), ê³„(9) â†’ ì„ìì‹œ(8)<br>`;
            html += `}<br>`;

            const ìì‹œì²œê°„ = ì¼ê°„ë³„ìì‹œì²œê°„[dayGanIndex];
            html += `ìì‹œì²œê°„ = ì¼ê°„ë³„ìì‹œì²œê°„[${dayGanIndex}] = <span class="highlight">${ìì‹œì²œê°„}</span><br></div>`;

            // 5ë‹¨ê³„: hourGanIndex ê³„ì‚°
            const hourGanIndex = (ìì‹œì²œê°„ + hourJiIndex) % 10;
            html += '<div class="step"><strong>5ë‹¨ê³„: hourGanIndex ê³„ì‚°</strong><br>';
            html += `hourGanIndex = (ìì‹œì²œê°„ + hourJiIndex) % 10<br>`;
            html += `hourGanIndex = (${ìì‹œì²œê°„} + ${hourJiIndex}) % 10<br>`;
            html += `hourGanIndex = ${ìì‹œì²œê°„ + hourJiIndex} % 10<br>`;
            html += `hourGanIndex = <span class="highlight">${hourGanIndex}</span><br></div>`;

            // 6ë‹¨ê³„: ìµœì¢… ê²°ê³¼
            const result = {
                gan: ì²œê°„[hourGanIndex],
                ji: ì§€ì§€[hourJiIndex]
            };

            html += '<div class="step"><strong>6ë‹¨ê³„: ìµœì¢… ê²°ê³¼</strong><br>';
            html += `ì²œê°„[${hourGanIndex}] = "<span class="highlight">${result.gan}</span>"<br>`;
            html += `ì§€ì§€[${hourJiIndex}] = "<span class="highlight">${result.ji}</span>"<br>`;
            html += `<strong>ìµœì¢… ì‹œì£¼: ${result.gan}${result.ji} (${result.gan}${result.ji})</strong><br></div>`;

            // 7ë‹¨ê³„: ì˜ˆìƒ vs ì‹¤ì œ ë¹„êµ
            html += '<div class="step"><strong>7ë‹¨ê³„: ì˜ˆìƒ vs ì‹¤ì œ ë¹„êµ</strong><br>';
            html += `ì˜ˆìƒ ê²°ê³¼: <span class="highlight">ë¬´ì˜¤(æˆŠåˆ)</span><br>`;
            html += `ì‹¤ì œ ê²°ê³¼: <span class="highlight">${result.gan}${result.ji}</span><br>`;

            if (result.gan === 'ë¬´' && result.ji === 'ì˜¤') {
                html += `<span class="success">âœ… ì •í™•í•¨! ì˜ˆìƒê³¼ ì¼ì¹˜</span><br>`;
            } else {
                html += `<span class="error">âŒ ì˜¤ë¥˜ ë°œê²¬! ì˜ˆìƒê³¼ ë¶ˆì¼ì¹˜</span><br>`;

                // ì˜¤ë¥˜ ë¶„ì„
                if (result.ji !== 'ì˜¤') {
                    html += `ì§€ì§€ ì˜¤ë¥˜: 12ì‹œëŠ” ì˜¤ì‹œ(${ì§€ì§€[6]})ì—¬ì•¼ í•˜ëŠ”ë° ${result.ji}ê°€ ë‚˜ì˜´<br>`;
                }
                if (result.gan !== 'ë¬´') {
                    html += `ì²œê°„ ì˜¤ë¥˜: ë¬´ì¼ ì˜¤ì‹œëŠ” ë¬´ì˜¤ì‹œì—¬ì•¼ í•˜ëŠ”ë° ${result.gan}ì˜¤ì‹œê°€ ë‚˜ì˜´<br>`;
                }
            }
            html += '</div>';

            html += '</div>';
            debugOutput.innerHTML = html;

            return result;
        }

        // í…ŒìŠ¤íŠ¸ ì‹¤í–‰
        window.onload = function() {
            console.log('ğŸ” ì‹œì£¼ ê³„ì‚° ë””ë²„ê¹… ì‹œì‘...');
            const result = debugGetHourGapja('ë¬´', 12);
            console.log('ë””ë²„ê¹… ê²°ê³¼:', result);
        };
    </script>
</body>
</html>